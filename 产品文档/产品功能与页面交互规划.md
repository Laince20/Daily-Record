# AI日志智能复盘助手 - 产品功能与页面交互规划

## 第一阶段页面规划

第一阶段将实现三个核心页面：对话页面、记忆页面和我的页面。以下是每个页面的详细功能规划。

## 1. 对话页面

对话页面是用户与AI助手进行日常复盘的主要界面，支持文字和语音交互。

### 1.1 UI布局
- 顶部导航栏：显示当前日期和"新对话"按钮
- 中间对话区域：采用聊天气泡形式展示对话内容
- 底部输入区：包含文本输入框、语音按钮和发送按钮

### 1.2 核心功能
- **文字对话功能**
  - 文本输入框支持多行文本
  
- **语音对话功能**
  - 长按语音按钮开始录音
  - 自动将语音转换为文字并发送
  - 支持取消录音功能

- **历史对话记录**
  - 当天对话实时保存并显示
  - 支持上拉加载更多历史消息
  - 支持筛选查看不同日期的对话

### 1.3 交互流程
1. 首次进入页面：AI主动发起复盘引导问题
2. 用户回复：通过文字或语音方式
3. AI分析并回应：提供针对性的深入提问或反馈
4. 对话结束：AI自动生成当次对话总结并保存

### 1.4 数据存储
- 对话内容存储于云数据库中
- 本地保持最近7天的对话记录缓存
- 定期将对话内容加密同步至云端

## 2. 记忆页面

记忆页面用于展示AI对用户历史对话的分析和总结，帮助用户回顾和反思。

### 2.1 UI布局
- 顶部切换栏：日/周/月三个维度切换
- 日历选择器：可选择查看特定日期的记忆
- 记忆卡片区域：展示不同时间维度的总结内容

### 2.2 核心功能
- **多维度总结查看**
  - 日维度：当天关键点、情绪状态、待办事项
  - 周维度：一周主题、成就与挑战、进步指标
  - 月维度：月度回顾、行为模式分析、成长建议

- **日期检索功能**
  - 日历视图选择特定日期
  - 时间轴浏览历史记忆
  - 支持按关键词搜索历史总结

- **数据可视化**
  - 情绪趋势图表
  - 主题词云展示
  - 活跃度热力图

### 2.3 交互流程
1. 默认进入日维度页面，显示今日总结
2. 切换时间维度：点击顶部切换栏
3. 选择特定日期：通过日历或时间轴选择
4. 查看详细内容：点击记忆卡片展开全部内容

### 2.4 数据处理
- 日级总结：每日对话结束后自动生成
- 周级总结：每周日晚自动生成上周总结
- 月级总结：每月最后一天生成当月总结

## 3. 我的页面

我的页面提供用户账户管理和设置功能。

### 3.1 UI布局
- 顶部用户信息区：头像、昵称、使用天数
- 中部功能列表：各项功能入口
- 底部版本信息：当前版本号和版权信息

### 3.2 核心功能
- **用户账户管理**
  - 退出登录功能
  - 微信账号绑定状态显示
  
- **隐私与安全**
  - 用户隐私协议查看
  - 数据授权管理
  - 本地数据清理选项

### 3.3 交互流程
1. 点击"退出登录"：弹出确认提示，确认后返回登录页
2. 点击"用户隐私协议"：打开协议详情页面
3. 数据授权管理：可查看和修改已授权的数据权限

## 界面间交互关系

三个页面通过底部Tab栏连接，用户可以随时切换。具体交互关系如下：

- **对话页面 → 记忆页面**：对话结束后可引导用户查看生成的总结
- **记忆页面 → 对话页面**：查看历史记忆后可一键发起新的复盘对话
- **全局状态**：保持登录状态、对话上下文和用户偏好设置

## 第一阶段技术实现要点

1. **页面框架搭建**
   - 使用微信小程序原生组件构建UI
   - 采用WeUI组件库提升开发效率
   - 实现页面间无缝切换和数据共享

2. **AI对话实现**
   - 接入扣子API实现对话功能
   - 设计复盘引导话术库
   - 实现对话上下文管理机制

3. **数据流设计**
   - 本地存储与云数据库同步策略
   - 隐私数据加密传输与存储
   - 建立用户数据索引体系

4. **用户体验优化**
   - 实现平滑的页面切换动画
   - 优化加载状态和反馈机制
   - 设计直观的数据可视化展示 